Node的内存控制其实是指V8的内存控制

JavaScript在Node中只能使用部分内存，其中在64位系统下能使用**1.4GB**，32位系统下能使用0.7GB

在V8中所有的JS对象都是通过堆来进行分配的

V8提供的内存是可以在初始化的时候更改的

V8主要的垃圾回收算法：
主要回收策略：**分代式垃圾回收机制**

内存分为新生代和老生代:
新生代：存活时间较短的对象
老生代：存活时间较长的对象或常驻内存的对象

新生代采用Scavenge算法，具体实现采用Cheney算法：
牺牲时间换空间，适合新生代中对象的生命周期较短
把堆内存分为使用状态的From空间和处于闲置状态的To空间
分配内存先分配From空间，垃圾回收时会检查From空间，存活的对象会**复制**到To空间，非存活状态的会被释放。
多次复制后仍存活的对象会**晋升**到老生代，To空间使用超过25%时会直接晋升老生代。
To空间使用达到25%时，To和From会角色互换（翻转）

老生代采用Mark-Sweep&Mare-compact（标记清除&标记整理）
Mark-Sweep：在标记阶段，遍历堆中所有的对象，标记活着的对象，在随后的清除阶段中，只清除没有被标记的对象
缺点：清除之后会出现内存不连续的情况
Mare-compact：将活着的对象往一段移动，移动完成后，直接清除边界外的内存
改进：增量标记

不是V8控制的内存称为堆外内存



